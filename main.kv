#transition:sm.FadeTransition(duration=.0)

ScreenManager
    id:manager
    MDScreen:
        name:'register'
        FloatLayout:
            orientation:'vertical'
            MDLabel:
                text:'Register here'
                halign:"center"
                font_style:'H4'
                pos_hint:{'center_x':.5, 'center_y':.85}
                theme_text_color: "Custom"
                text_color: 36/255, 146/255, 255/255, 1
                height: self.texture_size[1]
                width: self.texture_size[1]

            NumberField:
                id:number
                mode: "rectangle"
                fill_color: 0, 0, 0, .4
                size_hint: .8, .1
                hint_text:"Phone number:"
                pos_hint:{'center_x':.5, 'center_y':.73}
                text_color: 0, 0, 0, 1
                font_size: dp(25)
            MDTextField:
                id:word
                mode: "rectangle"
                fill_color: 0, 0, 0, .4
                size_hint: .8, .1
                pos_hint:{'center_x':.5, 'center_y':.58}
                hint_text:"Name:"
                text_color: 0, 0, 0, 1
                font_size: dp(25)
            MDFillRoundFlatButton:
                id:b_register
                text: "Register"
                size_hint: .5, .06
                pos_hint:{'center_x':.5, 'center_y':.45}
                md_bg_color: 36/255, 146/255, 255/255, 1
                on_release:
                    app.validate_user(number.text, word.text)
    MDScreen:
        name:"enter"
        MDBoxLayout:
            orientation: "vertical"
            FloatLayout:
                RecycleView:
                    id: modules
                    key_viewclass: 'viewclass'
                    key_size: 'height'
                    pos_hint:{"top":.85}
                    RecycleBoxLayout:
                        id:wali
                        spacing:dp(4)
                        padding: dp(10)
                        default_size: None, dp(55)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'




    MDScreen:
        name:"home"
        MDBoxLayout:
            orientation: "vertical"
            MDToolbar:
                title: "Attendance"
                specific_text_color:78/255, 82/255, 84/255, 1
                md_bg_color:1, 1, 1, 1
            MDTabs:
                allow_stretch:False
                background_color:1, 1, 1, 1
                indicator_color:36/255, 146/255, 255/255, 1
                tab_hint_x:True
                text_color_active:78/255, 82/255, 84/255, 1
                text_color_normal:.5, .5, .5, 1

                Tab:
                    title: "Present"
                    FloatLayout:
                        RecycleView:
                            id: studs
                            key_viewclass: 'viewclass'
                            key_size: 'height'
                            pos_hint:{"top":.85}
                            RecycleBoxLayout:
                                id:wali
                                spacing:dp(4)
                                padding: dp(10)
                                default_size: None, dp(55)
                                default_size_hint: 1, None
                                size_hint_y: None
                                height: self.minimum_height
                                orientation: 'vertical'
                        MDFillRoundFlatIconButton:
                            icon: "arrow-down"
                            text: "Export to Excel"
                            pos_hint:{'center_x':.5, 'center_y':.91}
                            on_release:
                                app.save_present()
                                app.one()



                Tab:
                    title: "Absent"
                    FloatLayout:
                        RecycleView:
                            id: absent
                            key_viewclass: 'viewclass'
                            key_size: 'height'
                            pos_hint:{"top":.99}
                            RecycleBoxLayout:
                                id:wali
                                spacing:dp(4)
                                padding: dp(10)
                                default_size: None, dp(55)
                                default_size_hint: 1, None
                                size_hint_y: None
                                height: self.minimum_height
                                orientation: 'vertical'

                        MDRaisedButton:
                            id:week
                            text: "Week Day"
                            halign: "center"
                            pos_hint:{'center_x': .5, "center_y":.5}
                            font_size: "16sp"
                            md_bg_color: 128/255, 0/255, 0/255, .4
                            on_release:
                                app.days()

    MDScreen:
        name:'login'
        FloatLayout:
            orientation:'vertical'
            MDLabel:
                bold:True
                text:'LOGIN'
                halign:"center"
                font_style:'H6'
                pos_hint:{'center_x':.5, 'center_y':.8}
                theme_text_color: "Custom"
                text_color: 36/255, 146/255, 255/255, 1
                height: self.texture_size[1]
                width: self.texture_size[1]
            NumberOnlyField:
                id:phone_number
                mode: "rectangle"
                fill_color: 0, 0, 0, .4
                size_hint: .8, .1
                hint_text:"Phone number:"
                pos_hint:{'center_x':.5, 'center_y':.73}
                text_color: 0, 0, 0, 1
                font_size: dp(25)
            MDTextField:
                id:name
                mode: "rectangle"
                fill_color: 0, 0, 0, .4
                size_hint: .8, .1
                pos_hint:{'center_x':.5, 'center_y':.58}
                hint_text:"Name:"
                text_color: 0, 0, 0, 1
                font_size: dp(25)
            MDFillRoundFlatButton:
                id:register
                text: "Login"
                size_hint: .5, .06
                pos_hint:{'center_x':.5, 'center_y':.35}
                md_bg_color: 36/255, 146/255, 255/255, 1
                on_release:
                    app.user_login(phone_number.text, name.text)


<Student@MDBoxLayout>:
    radius:9
    adaptive_height:True
    name:""
    pos_x: .55
    pos_y: .7
    height:dp(45)
    md_bg_color:180/255, 180/255, 150/255, 1
    pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    FloatLayout:
        MDLabel:
            id:nm
            halign:"left"
            text:root.name
            font_size:"20sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":root.pos_x,"center_y":root.pos_y}


<Students@MDBoxLayout>:
    radius:9
    adaptive_height:True
    name:""
    registration:""
    pos_x: .55
    pos_y: .7
    height:dp(40)
    md_bg_color:180/255, 180/255, 150/255, 1
    pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    FloatLayout:
        MDLabel:
            id:nm
            halign:"left"
            text:root.name
            font_size:"17sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":root.pos_x,"center_y":root.pos_y}
        MDLabel:
            halign:"left"
            text:root.registration
            font_size:"10sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":.58,"center_y":.3}

<Modules@MDCard>>:
    radius:9
    adaptive_height:True
    name:""
    program:""
    code:""
    pos_x: .55
    pos_y: .7
    height:dp(40)
    md_bg_color:180/255, 180/255, 150/255, 1
    pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    on_press:
        app.screen_capture("home")
    FloatLayout:
        MDLabel:
            id:nm
            halign:"left"
            text:root.name
            font_size:"17sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":root.pos_x,"center_y":root.pos_y}
        MDLabel:
            halign:"left"
            text:root.program
            font_size:"10sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":.68,"center_y":.3}
        MDLabel:
            halign:"left"
            text:root.code
            font_size:"10sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":.58,"center_y":.3}


